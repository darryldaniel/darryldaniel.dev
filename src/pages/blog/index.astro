---
import { getCollection } from 'astro:content';
import Layout from "../../layouts/Layout.astro";

const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.publishedDate.valueOf() - a.data.publishedDate.valueOf()
);
---

<Layout title="All Posts">
    <main class="py-24 px-8 md:px-0">
        <div class="flex flex-col items-center">
            <div class="w-full md:w-1/2 lg:w-1/3 px-4 md:px-0">
                <h1 class="text-4xl font-serif italic mb-6">All Posts</h1>
                <ul class="space-y-10">
                    {
                        posts.map((post) => (
                                <li>
                                    <p class="mb-2 text-sm text-gray-500 dark:text-neutral-500">
                                        {post.data.publishedDate.toLocaleDateString('en-us', { year: "numeric", month: "short", day: "numeric" })}
                                    </p>
                                    <h5 class="font-medium text-sm text-gray-800 dark:text-neutral-200">
                                        {post.data.title}
                                    </h5>
                                    <!--<p class="mt-1 text-sm text-gray-500 dark:text-neutral-500">-->
                                    <!--    How to make objectives and key results work for your company.-->
                                    <!--</p>-->
                                    <p class="mt-1">
                                        <a class="text-sm text-gray-500 underline hover:text-gray-800 hover:decoration-2 focus:outline-none focus:decoration-2 dark:text-neutral-500 dark:hover:text-neutral-400"
                                           href={`/blog/${post.slug}`}>
                                            Continue reading
                                        </a>
                                    </p>
                                </li>
                        ))
                    }
                </ul>
            </div>
        </div>

    </main>
</Layout>